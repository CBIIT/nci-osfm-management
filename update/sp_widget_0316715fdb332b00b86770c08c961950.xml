<?xml version="1.0" encoding="UTF-8"?>
<record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[function($scope, spUtil) {
  /* widget controller */
  var c = this;
	
  c.data.testData = {name: "Wrench", man: "Dewalt Toosl",
									 des: "The JavaScript specification does not define the order of keys returned for an object, so AngularJS relies on the order returned by the browser when running for key in myObj. Browsers generally follow the strategy of providing keys in the order in which they were defined, although there are exceptions when keys are deleted and reinstated. See the MDN page on delete for more info.",
										mod: "Madel 123", bar: "123456789087654321", owner: "JAKI"
									};
	
	
	for(i=0; i< 50; i++){
		c.data.assets.push({
			name: "name " + i ,
			manufacture: "manufacture " + i,
			description: "description " + i,
			model_number: "model_number " + i, 
			unit_cost: "unit_cost " + i,
			owner_custodian: "owner_custodian "+ i,
			quantity: "quantity "+ i,
			stockroom: "stockroom "+ i
		})
	}
	
	$scope.sort = function(keyname){
	   $scope.sortKey = keyname;
	   $scope.reverse = !$scope.reverse;
	};
	
	spUtil.recordWatch($scope, "", "", function(name, data) {  
			spUtil.update($scope);
	});

}]]></client_script>
        <controller_as>c</controller_as>
        <css/>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>etrack_asset_details</id>
        <internal>false</internal>
        <link/>
        <name>Etrack Asset Details</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  
	data.assets = [];

})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>abdullahz2@nih.gov</sys_created_by>
        <sys_created_on>2019-02-28 15:27:54</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>0316715fdb332b00b86770c08c961950</sys_id>
        <sys_mod_count>131</sys_mod_count>
        <sys_name>Etrack Asset Details</sys_name>
        <sys_package display_value="NCI Equipment Tracking System" source="x_naci_e_tracking">0d1eac28dbbfaf0054d8ff621f9619b2</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="NCI Equipment Tracking System">0d1eac28dbbfaf0054d8ff621f9619b2</sys_scope>
        <sys_update_name>sp_widget_0316715fdb332b00b86770c08c961950</sys_update_name>
        <sys_updated_by>abdullahz2@nih.gov</sys_updated_by>
        <sys_updated_on>2019-03-08 19:18:08</sys_updated_on>
        <template><![CDATA[<div ng-controller="c" layout="column" ng-cloak>
    <md-card>
        <md-toolbar class="md-hue-2">
            <div class="md-toolbar-tools">
                <h2 flex md-truncate>Asset Details</h2>
            </div>
        </md-toolbar>
        <md-card-content>
            <div class="panel-body">
                <div class="row">
                    <div class=" col-md-12 col-lg-12 ">
                        <table class="table">
                            <tbody>
                                <tr>
                                    <td style="border-top: none !important;">Name</td>
                                    <td style="border-top: none !important;">{{c.data.testData.name}}</td>
                                </tr>
                                <tr>
                                    <td>Manufacturer</td>
                                    <td>{{c.data.testData.man}}</td>
                                </tr>
                                <tr>
                                    <td>Descriptions</td>
                                    <td>{{c.data.testData.des}}</td>
                                </tr>
                                <tr>
                                    <td>Model</td>
                                    <td>{{c.data.testData.mod}}</td>
                                </tr>
                                <tr>
                                    <td>Barcode</td>
                                    <td>{{c.data.testData.bar}}</td>
                                </tr>
                                <tr>
                                    <td>Owner</td>
                                    <td>{{c.data.testData.owner}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
               <div class="d-flex justify-content-center">
                    <md-button ng-href="?id=etrack_edit_asset" class="md-raised md-primary">Edit Assets</md-button>
                </div>
            </div>
          
           <!-- Filter Assests table -->
            <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Name</label>
                    <input name="name" ng-model="search.name" />
                </md-input-container>
                
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Manufacture</label>
                    <input name="manufacture" ng-model="search.manufacture" />
                </md-input-container>
              
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Model Number</label>
                    <input name="modelNumber" ng-model="search.modelNumber" />
                </md-input-container>
             
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Stockroom</label>
                    <input name="stockroom" ng-model="search.stockroom" />
                </md-input-container>
              
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Owner</label>
                    <input name="owner" ng-model="search.owner" />
                </md-input-container>

            </div>
         



           <!-- Assets table -->
            <div>
                <div class="panel margin-bottom-small">
                    <div class="panel-heading blue-panel" role="tab" id="heading_savedItems">
                        <h1 class="h4 panel-title">
                            <a role="button" data-toggle="collapse" data-target="#collapseAssets" aria-expanded="true" aria-controls="collapseAssets">
                  <span class="accordion_icon"><i class="fa fa-minus-square"></i></span> Assets <span class="badge" id="ritm_count" >{{(c.data.assets|filter:search).length}}</span>
                </a>
                        </h1>
                    </div>
                    <div ng-if="c.data.assets.length > 0" id="collapseAssets" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading_savedItems">
                        <table class="table table-bordered table-striped table-condensed">
                            <tr>
                                <th ng-click="sort('name')">Name<span class="glyphicon sort-icon" ng-show="sortKey=='name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                                <th ng-click="sort('manufacture')">Manufacture<span class="glyphicon sort-icon" ng-show="sortKey=='manufacture'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                                <th ng-click="sort('description')">Description<span class="glyphicon sort-icon" ng-show="sortKey=='description'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                                <th ng-click="sort('model_number')">Model Number<span class="glyphicon sort-icon" ng-show="sortKey=='model_number'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                                <th ng-click="sort('owner_custodian')">Owner<span class="glyphicon sort-icon" ng-show="sortKey=='owner_custodian'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                                <th ng-click="sort('quantity')">Quantity<span class="glyphicon sort-icon" ng-show="sortKey=='quantity'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                                <th>Actions</th>
                            </tr>
                            <tr dir-paginate="data in c.data.assets|filter:search|orderBy:sortKey:reverse|itemsPerPage:pageSize" pagination-id="assetsDataPagination">
                                <td class="ritm_number">{{data.name}}</td>
                                <td class="ritm_cat_item">{{data.manufacture}}</td>
                                <td class="ritm_cat_item">{{data.description}}</td>
                                <td class="ritm_cat_item">{{data.model_number}}</td>
                                <td class="ritm_cat_item">{{data.owner_custodian}}</td>
                                <td class="ritm_cat_item">{{data.quantity}}</td>
                                <td>
                                    <md-button class="md-raised"  ng-href="?id=etrack_asset_details"> View</md-button>
                                </td>

                            </tr>
                        </table>
                        <div>
                            <table width="100%" border="0">
                                <tr>
                                    <td width="70%">
                                        <dir-pagination-controls pagination-id="assetsDataPagination" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                    </td>
                                    <td width="25%" align="right">
                                        <label for="page-size">Items per page&#160;&#160;</label>
                                    </td>
                                    <td width="5%" align="right">
                                        <select class="form-control" id="page-size" ng-model="pageSize" ng-init="pageSize='5'" style="width:80px;">
                                            <option value="5">5</option>
                                            <option value="10">10</option>
                                            <option value="15">15</option>
                                            <option value="20">20</option>
                                        </select>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
     
        </md-card-content>
    </md-card>






</div>]]></template>
    </sp_widget>
</record_update>
